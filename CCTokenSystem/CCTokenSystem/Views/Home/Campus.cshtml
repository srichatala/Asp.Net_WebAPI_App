<script src="~/Scripts/Controller/CampusCtrl/CampusCtrl.js"></script>
<div ng-controller="CampusCtrl">
    <form class="form-horizontal" name="myForm" novalidate>
        <h3>Add Campus</h3>
        <div class="form-group">
            <label for="firstname" class="col-sm-5 control-label">Campus Name:</label>
            <div class="col-sm-7">
                <input type="text" name="campusname" class="form-control" ng-model="campus.CampusName" placeholder="First Name" ng-pattern="/^[a-zA-Z ]*$/" required>
                <span style="color:red" ng-show="myForm.campusname.$dirty && myForm.campusname.$invalid">
                    <span ng-show="myForm.campusname.$error.required">Campus name is required</span>
                    <span ng-show="myForm.campusname.$error.pattern">Invalid Campus Name</span>
                </span>
            </div>
        </div>
        <div class="form-group">
            <label for="phonenumber" class="col-sm-5 control-label">Address:</label>
            <div class="col-sm-7">
                <input type="text" name="address" class="form-control" ng-model="campus.CampusAddress" placeholder="Address" required>
                <span style="color:red" ng-show="myForm.address.$dirty && myForm.address.$invalid">
                    <span ng-show="myForm.address.$error.required">Address required</span>
                </span>
            </div>
        </div>
        <div class="form-group">
            <label for="City" class="col-sm-5 control-label">City:</label>
            <div class="col-sm-7">
                <input type="text" name="city" class="form-control" ng-pattern="/^[a-zA-Z ]*$/" ng-model="campus.City" placeholder="City" required>
                <span style="color:red" ng-show="myForm.city.$dirty && myForm.city.$invalid">
                    <span ng-show="myForm.city.$error.required">City required</span>
                    <span ng-show="myForm.city.$error.pattern">Invalid City Name</span>
                </span>
            </div>
        </div>
        <div class="form-group">
            <label for="provience" class="col-sm-5 control-label">Provience:</label>
            <div class="col-sm-7">
                <input type="text" name="provience" class="form-control" ng-pattern="/^[a-zA-Z ]*$/" ng-model="campus.Province" placeholder="Provience" required>
                <span style="color:red" ng-show="myForm.provience.$dirty && myForm.provience.$invalid">
                    <span ng-show="myForm.provience.$error.required">Provience required</span>
                    <span ng-show="myForm.provience.$error.pattern">Invalid Provience Name</span>
                </span>
            </div>
        </div>
        <div class="form-group">
            <label for="postalcode" class="col-sm-5 control-label">Postal Code:</label>
            <div class="col-sm-7">
                <input type="text" name="postalcode" class="form-control" ng-model="campus.PostalCode" placeholder="Postal Code" required>
                <span style="color:red" ng-show="myForm.postalcode.$dirty && myForm.postalcode.$invalid">
                    <span ng-show="myForm.postalcode.$error.required">Provience required</span>
                    <span ng-show="myForm.postalcode.$error.pattern">Invalid Provience Name</span>
                </span>
            </div>
        </div>
        <div class="form-group">
            <label for="phonenumber" class="col-sm-5 control-label">Contact Number:</label>
            <div class="col-sm-7">
                <input type="text" name="pnumber" class="form-control" ng-pattern="/^[(]{0,1}[0-9]{3}[)]{0,1}[-s.]{0,1}[0-9]{3}[-s.]{0,1}[0-9]{4}$/" ng-model="campus.Phone" placeholder="Contact Number" ng-minlength="12" ng-maxlength="12" required>
                <span style="color:red" ng-show="myForm.pnumber.$dirty && myForm.pnumber.$invalid">
                    <span ng-show="myForm.pnumber.$error.required">Phone Number is required</span>
                    <span ng-show="myForm.pnumber.$error.pattern || myForm.pnumber.$error.minlength || myForm.pnumber.$error.maxlength">Invalid Phone Number(xxx-xxx-)</span>
                </span>
            </div>
        </div>
        <div class="form-group">
            <div class="col-sm-offset-5 col-sm-7">
                <input type="submit" ng-show="addSt" ng-click="Create(campus)" ng-disabled="
                       myForm.campusname.$pristine || myForm.campusname.$dirty && myForm.campusname.$invalid ||
                       myForm.address.$pristine || myForm.address.$dirty && myForm.address.$invalid ||
                       myForm.city.$pristine || myForm.city.$dirty && myForm.city.$invalid ||
                       myForm.pnumber.$pristine || myForm.pnumber.$dirty && myForm.pnumber.$invalid ||
                       myForm.provience.$pristine || myForm.provience.$dirty && myForm.provience.$invalid" class="btn btn-success" value="Submit" />
                <input type="submit" ng-show="updateSt" ng-click="Update(campus)" ng-disabled="
                       myForm.campusname.$dirty && myForm.campusname.$invalid ||
                       myForm.address.$dirty && myForm.address.$invalid ||
                       myForm.city.$dirty && myForm.city.$invalid ||
                       myForm.pnumber.$dirty && myForm.pnumber.$invalid ||
                       myForm.provience.$dirty && myForm.provience.$invalid"
                       class="btn btn-warning" value="Update" />
                <input type="submit" ng-show="clearSt" ng-click="Clear()" class="btn btn-default" value="Create New" />
            </div>
        </div>

        <div class="col-lg-12">
            <h3>Campus Details</h3>
            <table class="table table-striped">
                <tr>
                    <th>S.No</th>
                    <th>Campus Name</th>
                    <th>Address</th>
                    <th>City</th>
                    <th>Provience</th>
                    <th>Postal Code</th>
                    <th>Contact Number</th>
                    <th>Actions</th>
                </tr>
                <tr ng-repeat="campus in CampusData">
                    <td>
                        {{campus.CampusId}}
                    </td>
                    <td>
                        {{campus.CampusName}}
                    </td>
                    <td>
                        {{campus.CampusAddress}}
                    </td>
                    <td>
                        {{campus.City}}
                    </td>
                    <td>
                        {{campus.Province}}
                    </td>
                    <td>
                        {{campus.PostalCode}}
                    </td>
                    <td>
                        {{campus.Phone}}
                    </td>
                    <td>
                        <button class="btn btn-warning" ng-click="Select(campus.CampusId)"><span class="glyphicon glyphicon-pencil"></span></button>
                        <button class="btn btn-danger" ng-click="Remove(campus.CampusId)"><span class="glyphicon glyphicon-remove"></span></button>
                    </td>
                </tr>
            </table>
        </div>
    </form>
</div>

